{"ast":null,"code":"\"use strict\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.object.define-property.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.concat.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.map.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.object.entries.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.find.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.includes.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.is-array.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.symbol.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.symbol.description.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.object.to-string.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.string.iterator.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.iterator.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.from.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.array.slice.js\");\n\nrequire(\"/Users/ilze/Documents/git/ng-iz/node_modules/core-js/modules/es.function.name.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.preKeyupBehavior = exports.preKeydownBehavior = exports.postKeyupBehavior = exports.keyupBehavior = exports.keypressBehavior = exports.keydownBehavior = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"../../utils\");\n\nvar _getEventProps = require(\"../getEventProps\");\n\nvar _shared = require(\"../shared\");\n/**\n * This file should contain behavior for functional keys as described here:\n * https://w3c.github.io/uievents-code/#key-alphanumeric-functional\n */\n\n\nvar modifierKeys = {\n  Alt: 'alt',\n  Control: 'ctrl',\n  Shift: 'shift',\n  Meta: 'meta'\n};\nvar preKeydownBehavior = [].concat(_toConsumableArray(Object.entries(modifierKeys).map(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      modKey = _ref2[1];\n\n  return {\n    matches: function (keyDef) {\n      return keyDef.key === key;\n    },\n    handle: function (keyDef, element, options, state) {\n      state.modifiers[modKey] = true;\n    }\n  };\n})), [// AltGraph produces an extra keydown for Control\n// The modifier does not change\n{\n  matches: function (keyDef) {\n    return keyDef.key === 'AltGraph';\n  },\n  handle: function (keyDef, element, options, state) {\n    var _options$keyboardMap$;\n\n    var ctrlKeyDef = (_options$keyboardMap$ = options.keyboardMap.find(function (k) {\n      return k.key === 'Control';\n    })) != null ? _options$keyboardMap$ :\n    /* istanbul ignore next */\n    {\n      key: 'Control',\n      code: 'Control'\n    };\n\n    _dom.fireEvent.keyDown(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));\n  }\n}]);\nexports.preKeydownBehavior = preKeydownBehavior;\nvar keydownBehavior = [{\n  matches: function (keyDef) {\n    return keyDef.key === 'CapsLock';\n  },\n  handle: function (keyDef, element, options, state) {\n    state.modifiers.caps = !state.modifiers.caps;\n  }\n}, {\n  matches: function (keyDef, element) {\n    return keyDef.key === 'Backspace' && (0, _utils.isEditable)(element) && !(0, _utils.isCursorAtStart)(element);\n  },\n  handle: function (keyDef, element, options, state) {\n    var _ref3 = (0, _utils.calculateNewValue)('', element, state.carryValue, undefined, 'backward'),\n        newValue = _ref3.newValue,\n        newSelectionStart = _ref3.newSelectionStart;\n\n    (0, _shared.fireInputEvent)(element, {\n      newValue: newValue,\n      newSelectionStart: newSelectionStart,\n      eventOverrides: {\n        inputType: 'deleteContentBackward'\n      }\n    });\n    (0, _shared.carryValue)(element, state, newValue);\n  }\n}];\nexports.keydownBehavior = keydownBehavior;\nvar keypressBehavior = [{\n  matches: function (keyDef, element) {\n    return keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input') && ['checkbox', 'radio'].includes(element.type);\n  },\n  handle: function (keyDef, element) {\n    var form = element.form;\n\n    if ((0, _utils.hasFormSubmit)(form)) {\n      _dom.fireEvent.submit(form);\n    }\n  }\n}, {\n  matches: function (keyDef, element) {\n    return keyDef.key === 'Enter' && ((0, _utils.isClickableInput)(element) || // Links with href defined should handle Enter the same as a click\n    (0, _utils.isElementType)(element, 'a') && Boolean(element.href));\n  },\n  handle: function (keyDef, element, options, state) {\n    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));\n  }\n}, {\n  matches: function (keyDef, element) {\n    return keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input');\n  },\n  handle: function (keyDef, element) {\n    var form = element.form;\n\n    if (form && (form.querySelectorAll('input').length === 1 || (0, _utils.hasFormSubmit)(form))) {\n      _dom.fireEvent.submit(form);\n    }\n  }\n}];\nexports.keypressBehavior = keypressBehavior;\n\nvar preKeyupBehavior = _toConsumableArray(Object.entries(modifierKeys).map(function (_ref4) {\n  var _ref5 = _slicedToArray(_ref4, 2),\n      key = _ref5[0],\n      modKey = _ref5[1];\n\n  return {\n    matches: function (keyDef) {\n      return keyDef.key === key;\n    },\n    handle: function (keyDef, element, options, state) {\n      state.modifiers[modKey] = false;\n    }\n  };\n}));\n\nexports.preKeyupBehavior = preKeyupBehavior;\nvar keyupBehavior = [{\n  matches: function (keyDef, element) {\n    return keyDef.key === ' ' && (0, _utils.isClickableInput)(element);\n  },\n  handle: function (keyDef, element, options, state) {\n    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));\n  }\n}];\nexports.keyupBehavior = keyupBehavior;\nvar postKeyupBehavior = [// AltGraph produces an extra keyup for Control\n// The modifier does not change\n{\n  matches: function (keyDef) {\n    return keyDef.key === 'AltGraph';\n  },\n  handle: function (keyDef, element, options, state) {\n    var _options$keyboardMap$2;\n\n    var ctrlKeyDef = (_options$keyboardMap$2 = options.keyboardMap.find(function (k) {\n      return k.key === 'Control';\n    })) != null ? _options$keyboardMap$2 :\n    /* istanbul ignore next */\n    {\n      key: 'Control',\n      code: 'Control'\n    };\n\n    _dom.fireEvent.keyUp(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));\n  }\n}];\nexports.postKeyupBehavior = postKeyupBehavior;","map":{"version":3,"mappings":"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","names":["Object","defineProperty","exports","value","preKeyupBehavior","preKeydownBehavior","postKeyupBehavior","keyupBehavior","keypressBehavior","keydownBehavior","_dom","require","_utils","_getEventProps","_shared","modifierKeys","Alt","Control","Shift","Meta","entries","map","key","modKey","matches","keyDef","handle","element","options","state","modifiers","_options$keyboardMap$","ctrlKeyDef","keyboardMap","find","k","code","fireEvent","keyDown","getKeyEventProps","caps","isEditable","isCursorAtStart","calculateNewValue","carryValue","undefined","newValue","newSelectionStart","fireInputEvent","eventOverrides","inputType","isElementType","includes","type","form","hasFormSubmit","submit","isClickableInput","Boolean","href","click","getMouseEventProps","querySelectorAll","length","_options$keyboardMap$2","keyUp"],"sources":["/Users/ilze/Documents/git/ng-iz/node_modules/@testing-library/user-event/dist/keyboard/plugins/functional.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.preKeyupBehavior = exports.preKeydownBehavior = exports.postKeyupBehavior = exports.keyupBehavior = exports.keypressBehavior = exports.keydownBehavior = void 0;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"../../utils\");\n\nvar _getEventProps = require(\"../getEventProps\");\n\nvar _shared = require(\"../shared\");\n\n/**\n * This file should contain behavior for functional keys as described here:\n * https://w3c.github.io/uievents-code/#key-alphanumeric-functional\n */\nconst modifierKeys = {\n  Alt: 'alt',\n  Control: 'ctrl',\n  Shift: 'shift',\n  Meta: 'meta'\n};\nconst preKeydownBehavior = [// modifierKeys switch on the modifier BEFORE the keydown event\n...Object.entries(modifierKeys).map(([key, modKey]) => ({\n  matches: keyDef => keyDef.key === key,\n  handle: (keyDef, element, options, state) => {\n    state.modifiers[modKey] = true;\n  }\n})), // AltGraph produces an extra keydown for Control\n// The modifier does not change\n{\n  matches: keyDef => keyDef.key === 'AltGraph',\n  handle: (keyDef, element, options, state) => {\n    var _options$keyboardMap$;\n\n    const ctrlKeyDef = (_options$keyboardMap$ = options.keyboardMap.find(k => k.key === 'Control')) != null ? _options$keyboardMap$ :\n    /* istanbul ignore next */\n    {\n      key: 'Control',\n      code: 'Control'\n    };\n\n    _dom.fireEvent.keyDown(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));\n  }\n}];\nexports.preKeydownBehavior = preKeydownBehavior;\nconst keydownBehavior = [{\n  matches: keyDef => keyDef.key === 'CapsLock',\n  handle: (keyDef, element, options, state) => {\n    state.modifiers.caps = !state.modifiers.caps;\n  }\n}, {\n  matches: (keyDef, element) => keyDef.key === 'Backspace' && (0, _utils.isEditable)(element) && !(0, _utils.isCursorAtStart)(element),\n  handle: (keyDef, element, options, state) => {\n    const {\n      newValue,\n      newSelectionStart\n    } = (0, _utils.calculateNewValue)('', element, state.carryValue, undefined, 'backward');\n    (0, _shared.fireInputEvent)(element, {\n      newValue,\n      newSelectionStart,\n      eventOverrides: {\n        inputType: 'deleteContentBackward'\n      }\n    });\n    (0, _shared.carryValue)(element, state, newValue);\n  }\n}];\nexports.keydownBehavior = keydownBehavior;\nconst keypressBehavior = [{\n  matches: (keyDef, element) => keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input') && ['checkbox', 'radio'].includes(element.type),\n  handle: (keyDef, element) => {\n    const form = element.form;\n\n    if ((0, _utils.hasFormSubmit)(form)) {\n      _dom.fireEvent.submit(form);\n    }\n  }\n}, {\n  matches: (keyDef, element) => keyDef.key === 'Enter' && ((0, _utils.isClickableInput)(element) || // Links with href defined should handle Enter the same as a click\n  (0, _utils.isElementType)(element, 'a') && Boolean(element.href)),\n  handle: (keyDef, element, options, state) => {\n    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));\n  }\n}, {\n  matches: (keyDef, element) => keyDef.key === 'Enter' && (0, _utils.isElementType)(element, 'input'),\n  handle: (keyDef, element) => {\n    const form = element.form;\n\n    if (form && (form.querySelectorAll('input').length === 1 || (0, _utils.hasFormSubmit)(form))) {\n      _dom.fireEvent.submit(form);\n    }\n  }\n}];\nexports.keypressBehavior = keypressBehavior;\nconst preKeyupBehavior = [// modifierKeys switch off the modifier BEFORE the keyup event\n...Object.entries(modifierKeys).map(([key, modKey]) => ({\n  matches: keyDef => keyDef.key === key,\n  handle: (keyDef, element, options, state) => {\n    state.modifiers[modKey] = false;\n  }\n}))];\nexports.preKeyupBehavior = preKeyupBehavior;\nconst keyupBehavior = [{\n  matches: (keyDef, element) => keyDef.key === ' ' && (0, _utils.isClickableInput)(element),\n  handle: (keyDef, element, options, state) => {\n    _dom.fireEvent.click(element, (0, _getEventProps.getMouseEventProps)(state));\n  }\n}];\nexports.keyupBehavior = keyupBehavior;\nconst postKeyupBehavior = [// AltGraph produces an extra keyup for Control\n// The modifier does not change\n{\n  matches: keyDef => keyDef.key === 'AltGraph',\n  handle: (keyDef, element, options, state) => {\n    var _options$keyboardMap$2;\n\n    const ctrlKeyDef = (_options$keyboardMap$2 = options.keyboardMap.find(k => k.key === 'Control')) != null ? _options$keyboardMap$2 :\n    /* istanbul ignore next */\n    {\n      key: 'Control',\n      code: 'Control'\n    };\n\n    _dom.fireEvent.keyUp(element, (0, _getEventProps.getKeyEventProps)(ctrlKeyDef, state));\n  }\n}];\nexports.postKeyupBehavior = postKeyupBehavior;"]},"metadata":{},"sourceType":"script"}